(this["webpackJsonptodo-mern-app"]=this["webpackJsonptodo-mern-app"]||[]).push([[0],{43:function(t,e,n){},44:function(t,e,n){"use strict";n.r(e);var a=n(16),c=n.n(a),r=n(6),o=n(11),s=n(29),i=n(30),u=n(31),l=n(3),d="[ui] Set active filter",j="[ui] Open modal",p="[ui] Close modal",b="[todo] Get tasks",O="[todo] Create task",f="[todo] Update task",h="[todo] Delete task",m="[todo] Set active task",v={tasks:[],activeTask:null},k={activeFilter:"all",modalIsOpen:!1},x=Object(o.combineReducers)({ui:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:return Object(l.a)(Object(l.a)({},t),{},{activeFilter:e.payload});case j:return Object(l.a)(Object(l.a)({},t),{},{modalIsOpen:!0});case p:return Object(l.a)(Object(l.a)({},t),{},{modalIsOpen:!1});default:return t}},todo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return Object(l.a)(Object(l.a)({},t),{},{tasks:e.payload});case O:return Object(l.a)(Object(l.a)({},t),{},{tasks:[].concat(Object(u.a)(t.tasks),[e.payload])});case f:return Object(l.a)(Object(l.a)({},t),{},{tasks:t.tasks.map((function(t){return t._id===e.payload._id?e.payload:t}))});case h:return Object(l.a)(Object(l.a)({},t),{},{tasks:t.tasks.filter((function(t){return t._id!==e.payload._id}))});case m:return Object(l.a)(Object(l.a)({},t),{},{activeTask:e.payload});default:return t}}}),y=Object(o.createStore)(x,Object(s.composeWithDevTools)(Object(o.applyMiddleware)(i.a))),N=n(23),g=n(4),C=n(1),w=function(){return Object(C.jsx)("h1",{children:"Login"})},T=n(0),E=n(20),S=n(19),_=n(10),I=n.n(_),D=n(15),F="https://todo-mern-app-avilio.herokuapp.com",G=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{return"GET"===e?fetch("".concat(F,"/api").concat(t)):fetch("".concat(F,"/api").concat(t),{method:e,body:JSON.stringify({task:n}),headers:{"Content-Type":"application/json"}})}catch(a){console.log("Error happened here!"),console.error(a)}},J=function(t){return function(){var e=Object(D.a)(I.a.mark((function e(n){var a,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G("/tasks/".concat(t._id),"PUT",t);case 3:return a=e.sent,e.next=6,a.json();case 6:(c=e.sent).ok&&n({type:f,payload:c.task}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},P=function(t){return{type:m,payload:t}},L=function(t){return{type:d,payload:t}},U=function(){return{type:j}},B=function(){var t=Object(r.b)(),e=Object(r.c)((function(t){return t.todo})).activeTask,n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(T.useState)(t),n=Object(E.a)(e,2),a=n[0],c=n[1];return[a,function(t){var e=t.target;c(Object(l.a)(Object(l.a)({},a),{},Object(S.a)({},e.name,e.value)))},function(){c(t)}]}(e?Object(l.a)({},e):{title:"",completed:!1}),a=Object(E.a)(n,2),c=a[0],o=a[1],s=function(){t(P(null)),t({type:p})};return Object(C.jsx)("div",{className:"modal",children:Object(C.jsx)("div",{className:"modal-content",children:Object(C.jsxs)("form",{onSubmit:function(n){var a;n.preventDefault(),t(e?J(c):(a=c,function(){var t=Object(D.a)(I.a.mark((function t(e){var n,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G("/tasks","POST",a);case 3:return n=t.sent,t.next=6,n.json();case 6:(c=t.sent).ok&&e({type:O,payload:c.task}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("asdasd"),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}())),s()},className:"modal-content-form",children:[Object(C.jsx)("h3",{children:e?"Editar tarea":"Nueva tarea"}),Object(C.jsx)("input",{value:c.title,onChange:o,name:"title",autoComplete:"off"}),Object(C.jsxs)("div",{className:"form-options",children:[Object(C.jsx)("button",{type:"button",onClick:s,className:"form-options-cancel",children:"Cancelar"}),Object(C.jsx)("button",{type:"submit",className:"form-options-save",children:e?"Editar":"Guardar"})]})]})})})},M=function(t){var e=t.children,n=Object(r.b)(),a=Object(r.c)((function(t){return t.ui})),c=a.activeFilter,o=a.modalIsOpen,s=function(t){return t===c?"layout-header-nav-button active":"layout-header-nav-button"};return Object(C.jsxs)("div",{className:"layout",children:[Object(C.jsxs)("header",{className:"layout-header",children:[Object(C.jsx)("div",{className:"layout-header-top",children:Object(C.jsx)("h1",{children:"Tareas"})}),Object(C.jsxs)("nav",{className:"layout-header-nav",children:[Object(C.jsx)("button",{onClick:function(t){return n(L(t.target.id))},id:"all",className:s("all"),children:"Todas"}),Object(C.jsx)("button",{onClick:function(t){return n(L(t.target.id))},id:"pending",className:s("pending"),children:"Pendientes"}),Object(C.jsx)("button",{onClick:function(t){return n(L(t.target.id))},id:"done",className:s("done"),children:"Completadas"})]})]}),Object(C.jsxs)("main",{className:"layout-main",children:[e,Object(C.jsx)("button",{onClick:function(){return n(U())},className:"add-task-button",children:"+"})]}),Object(C.jsx)("footer",{className:"layout-footer"}),o&&Object(C.jsx)(B,{})]})},R=function(t){var e=t.task,n=Object(r.b)();return Object(C.jsxs)("div",{className:"task",children:[Object(C.jsx)("section",{className:e.completed?"task-content task-completed":"task-content",children:e.title}),Object(C.jsxs)("section",{className:"task-options",children:[Object(C.jsx)("button",{onClick:function(){return n(function(t){return function(){var e=Object(D.a)(I.a.mark((function e(n){var a,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G("/tasks/".concat(t._id),"DELETE",t);case 3:return a=e.sent,e.next=6,a.json();case 6:(c=e.sent).ok&&n({type:h,payload:c.task}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}(e))},className:"task-options-delete material-icons",children:"close"}),Object(C.jsx)("button",{onClick:function(){n(P(e)),n(U())},className:"task-options-update material-icons",children:"edit"}),Object(C.jsx)("button",{onClick:function(){return n(J(Object(l.a)(Object(l.a)({},e),{},{completed:!e.completed})))},className:"task-options-completed material-icons",children:"done"})]})]})},W=function(){var t=Object(r.c)((function(t){return t.todo})).tasks,e=Object(r.c)((function(t){return t.ui})).activeFilter,n=Object(r.b)();Object(T.useEffect)((function(){n(function(){var t=Object(D.a)(I.a.mark((function t(e){var n,a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G("/tasks");case 3:return n=t.sent,t.next=6,n.json();case 6:(a=t.sent).ok&&e({type:b,payload:a.tasks}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}())}),[n]);return Object(C.jsx)("div",{className:"home",children:function(){switch(e){case"all":return t;case"pending":return t.filter((function(t){return!t.completed}));case"done":return t.filter((function(t){return t.completed}));default:return}}().map((function(t){return Object(C.jsx)(R,{task:t},t._id)}))})},q=function(){return Object(C.jsx)(M,{children:Object(C.jsx)(g.d,{children:Object(C.jsx)(g.b,{exact:!0,path:"/",component:W})})})},z=function(){return Object(C.jsx)(N.a,{children:Object(C.jsxs)(g.d,{children:[Object(C.jsx)(g.b,{exact:!0,path:"/login",component:w}),Object(C.jsx)(g.b,{exact:!0,path:"/",component:q}),Object(C.jsx)(g.a,{to:"/"})]})})},A=function(){return Object(C.jsx)(r.a,{store:y,children:Object(C.jsx)(z,{})})};n(43);c.a.render(Object(C.jsx)(A,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.004e2e4b.chunk.js.map